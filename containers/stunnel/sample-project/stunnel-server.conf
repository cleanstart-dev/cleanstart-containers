; Stunnel Server Configuration
; This configuration makes stunnel act as an SSL/TLS server
; It accepts encrypted connections and forwards them unencrypted to the backend service

; Global options
foreground = yes
debug = 5
syslog = no
output = /dev/stdout

; SSL/TLS options
; Use TLSv1.2 and higher
sslVersion = TLSv1.2

; Service definition for Redis
[redis-ssl]
; Accept SSL/TLS connections on port 6380
accept = 0.0.0.0:6380

; Forward decrypted traffic to Redis backend on port 6379
connect = redis-backend:6379

; SSL certificate (combined cert and key)
cert = /etc/stunnel/stunnel.pem

; Optional: Require client certificate verification
; Uncomment the following lines for mutual TLS (mTLS)
; verify = 2
; CAfile = /etc/stunnel/ca-cert.pem

